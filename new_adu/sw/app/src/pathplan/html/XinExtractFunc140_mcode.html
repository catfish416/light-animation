<!-- saved from url=(0014)about:internet -->
<pre class="code">
<span class="srcline"><span class="lineno"><a href="64,1" id="srcline1">  1</a></span><span class="line"><span class="keyword">function</span> [<span class="var type1" id="S2T1U3">PathFinishFlg</span>,<span class="var type1" id="S3T1U4">TrunTrigFlg</span>,<span class="var type1" id="S4T1U5">x_inStartTPoint</span>,<span class="var type1" id="S5T1U6">y_inStartTPoint</span>,<span class="var type1" id="S6T1U7">x_outEndTPoint</span>,<span class="var type1" id="S7T1U8">y_outEndTPoint</span>,<span class="var type1" id="S8T1U9">CurActiveModel</span>,<span class="var type1" id="S9T11U10">RoadInfoPGCd</span>,<span class="var type1" id="S10T33U11">TarPosInfo</span>,<span class="var type1" id="S11T1U12">PathPlanningSuccessFlg</span>] = XinExtractFunc(<span class="var type1" id="S12T1U15">CurOPPP</span>,<span class="var type1" id="S13T1U16">TrigFlg</span>,<span class="var type1" id="S14T1U17">x_in</span>,<span class="var type1" id="S15T1U18">y_in</span>,<span class="var type1" id="S16T1U19">angle_in</span>,<span class="var type1" id="S17T1U20">x_out</span>,<span class="var type1" id="S18T1U21">y_out</span>,<span class="var type1" id="S19T1U22">angle_out</span>,<span class="var type1" id="S20T1U23">W_in</span>,<span class="var type1" id="S21T1U24">W_out</span>,<span class="var type1" id="S22T10U25">Info_Me</span>,<span class="var type1" id="S23T1U26">TurnLenIn</span>,<span class="var type1" id="S24T1U27">aTransIn</span>,<span class="var type1" id="S25T1U28">EnterZoneFlg</span>,<span class="var type1" id="S26T1U29">ExitOutOfTurn</span>,<span class="var type1" id="S27T1U30">PathPlanRetryFlg</span>,<span class="var type1" id="S28T1U31">StopFlg</span>)</span></span>
<span class="srcline"><span class="lineno"><a href="64,2" id="srcline2">  2</a></span><span class="line"><span class="comment">%#codegen</span></span></span>
<span class="srcline"><span class="lineno"><a href="64,3" id="srcline3">  3</a></span><span class="line"><span class="comment">%         RoadInfo(1,1) = Info_Me(1);RoadInfo(1,2) = Info_Me(2);RoadInfo(1,3) = Info_Me(6);RoadInfo(1,4) = EgoLaneInfo(2);</span></span></span>
<span class="srcline"><span class="lineno"><a href="64,4" id="srcline4">  4</a></span><span class="line"><span class="comment">%         RoadInfo(2,:) = [EgoLaneInfo(3),EgoLaneInfo(4),EgoLaneInfo(1),EgoLaneInfo(2)]; </span></span></span>
<span class="srcline"><span class="lineno"><a href="64,5" id="srcline5">  5</a></span><span class="line">    <span class="keyword">persistent</span> <span class="var type1" id="S29T1U33">PTurnTrigFlg</span> <span class="var type1" id="S30T1U34">PTrigFlg</span> <span class="var type1" id="S31T1U35">CurState</span> <span class="var type1" id="S32T10U36">PInfo_Me</span></span></span>
<span class="srcline"><span class="lineno"><a href="64,6" id="srcline6">  6</a></span><span class="line">    <span class="keyword">if</span> <span class="mxinfo " id="T8:U32">isempty(<span class="var type0" id="S29T0U42">PTurnTrigFlg</span>)</span>||(<span class="mxinfo " id="T8:U33"><span class="mxinfo " id="T1:U34">abs(<span class="mxinfo " id="T1:U35"><span class="var type1" id="S12T1U49">CurOPPP</span>-<span class="mxinfo " id="T1:U37">1</span></span>)</span>&gt;<span class="mxinfo " id="T1:U38">1e-1</span></span>)&amp;&amp;(<span class="mxinfo " id="T8:U39"><span class="mxinfo " id="T1:U40">abs(<span class="mxinfo " id="T1:U41"><span class="var type1" id="S12T1U57">CurOPPP</span>-<span class="mxinfo " id="T1:U43">2</span></span>)</span>&gt;<span class="mxinfo " id="T1:U44">1e-1</span></span>)</span></span>
<span class="srcline"><span class="lineno"><a href="64,7" id="srcline7">  7</a></span><span class="line">        <span class="mxinfo " id="T1:U45"><span class="var type1" id="S29T1U62">PTurnTrigFlg</span> = <span class="mxinfo " id="T1:U47">0</span></span>;<span class="mxinfo " id="T1:U48"><span class="var type1" id="S30T1U66">PTrigFlg</span> = <span class="mxinfo " id="T1:U50">0</span></span>;<span class="mxinfo " id="T1:U51"><span class="var type1" id="S31T1U70">CurState</span> = <span class="mxinfo " id="T1:U53">1</span></span>;<span class="mxinfo " id="T10:U54"><span class="var type1" id="S32T10U74">PInfo_Me</span> = <span class="mxinfo " id="T10:U56">[<span class="mxinfo " id="T1:U57">0</span> <span class="mxinfo " id="T1:U58">0</span> <span class="mxinfo " id="T1:U59">0</span> <span class="mxinfo " id="T1:U60">0</span> <span class="mxinfo " id="T1:U61">0</span> <span class="mxinfo " id="T1:U62">0</span>]</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="64,8" id="srcline8">  8</a></span><span class="line">    <span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="64,9" id="srcline9">  9</a></span><span class="line">    <span class="keyword">if</span> <span class="mxinfo " id="T8:U63"><span class="var type1" id="S13T1U86">TrigFlg</span> &gt;<span class="mxinfo " id="T1:U65">1e-1</span></span></span></span>
<span class="srcline"><span class="lineno"><a href="64,10" id="srcline10"> 10</a></span><span class="line">        <span class="mxinfo " id="T1:U66"><span class="var type1" id="S30T1U90">PTrigFlg</span> = <span class="mxinfo " id="T1:U68">1</span></span>;<span class="mxinfo " id="T1:U69"><span class="var type1" id="S31T1U94">CurState</span> = <span class="mxinfo " id="T1:U71">1</span></span>;<span class="mxinfo " id="T1:U72"><span class="var type1" id="S29T1U98">PTurnTrigFlg</span>= <span class="mxinfo " id="T1:U74">0</span></span>;<span class="mxinfo " id="T10:U75"><span class="var type1" id="S32T10U102">PInfo_Me</span> = <span class="mxinfo " id="T10:U77">[<span class="mxinfo " id="T1:U78">0</span> <span class="mxinfo " id="T1:U79">0</span> <span class="mxinfo " id="T1:U80">0</span> <span class="mxinfo " id="T1:U81">0</span> <span class="mxinfo " id="T1:U82">0</span> <span class="mxinfo " id="T1:U83">0</span>]</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="64,11" id="srcline11"> 11</a></span><span class="line">    <span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="64,12" id="srcline12"> 12</a></span><span class="line">    <span class="mxinfo " id="T1:U84"><span class="var type1" id="S35T1U113">TurnLen</span> = <span class="var type1" id="S23T1U114">TurnLenIn</span></span>; <span class="mxinfo " id="T1:U87"><span class="var type1" id="S3T1U117">TrunTrigFlg</span> = <span class="mxinfo " id="T1:U89">0</span></span>; <span class="mxinfo " id="T1:U90"><span class="var type1" id="S36T1U121">aTrans</span> = <span class="var type1" id="S24T1U122">aTransIn</span></span>; <span class="mxinfo " id="T1:U93"><span class="var type1" id="S8T1U125">CurActiveModel</span> = <span class="mxinfo " id="T1:U95">0</span></span>;<span class="mxinfo " id="T1:U96"><span class="var type1" id="S2T1U129">PathFinishFlg</span> = <span class="mxinfo " id="T1:U98">0</span></span>;<span class="mxinfo " id="T11:U99"><span class="var type1" id="S9T11U133">RoadInfoPGCd</span> = <span class="mxinfo " id="T11:U101">[<span class="mxinfo " id="T7:U102"><span class="mxinfo " id="T1:U103">0</span> <span class="mxinfo " id="T1:U104">0</span> <span class="mxinfo " id="T1:U105">0</span> <span class="mxinfo " id="T1:U106">0</span></span>;<span class="mxinfo " id="T7:U107"><span class="mxinfo " id="T1:U108">0</span> <span class="mxinfo " id="T1:U109">0</span> <span class="mxinfo " id="T1:U110">0</span> <span class="mxinfo " id="T1:U111">0</span></span>]</span></span>;<span class="mxinfo " id="T33:U112"><span class="var type1" id="S10T33U147">TarPosInfo</span> = <span class="mxinfo " id="T33:U114">[<span class="mxinfo " id="T1:U115">0</span> <span class="mxinfo " id="T1:U116">0</span>]</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="64,13" id="srcline13"> 13</a></span><span class="line">    <span class="keyword">if</span> <span class="mxinfo " id="T8:U117"><span class="mxinfo " id="T1:U118">abs(<span class="mxinfo " id="T1:U119">sin(<span class="mxinfo " id="T1:U120"><span class="var type1" id="S19T1U160">angle_out</span> - <span class="var type1" id="S16T1U161">angle_in</span></span>)</span>)</span>&lt;<span class="mxinfo " id="T1:U123">1e-1</span></span></span></span>
<span class="srcline"><span class="lineno"><a href="64,14" id="srcline14"> 14</a></span><span class="line">        <span class="comment">% Treat outpoint as a 90 degree Turn</span></span></span>
<span class="srcline"><span class="lineno"><a href="64,15" id="srcline15"> 15</a></span><span class="line">        <span class="comment">% No Turn is needed </span></span></span>
<span class="srcline"><span class="lineno"><a href="64,16" id="srcline16"> 16</a></span><span class="line">        <span class="mxinfo " id="T1:U124"><span class="var type1" id="S38T1U165">Xcent</span> = <span class="mxinfo " id="T1:U126">0</span></span>;<span class="mxinfo " id="T1:U127"><span class="var type1" id="S39T1U169">Ycent</span> = <span class="mxinfo " id="T1:U129">0</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="64,17" id="srcline17"> 17</a></span><span class="line">    <span class="keyword">else</span></span></span>
<span class="srcline"><span class="lineno"><a href="64,18" id="srcline18"> 18</a></span><span class="line">        <span class="mxinfo " id="T1:U130"><span class="var type1" id="S38T1U174">Xcent</span> = <span class="mxinfo " id="T1:U132"><span class="var type1" id="S17T1U176">x_out</span> - <span class="mxinfo " id="T1:U134"><span class="var type1" id="S18T1U178">y_out</span> * <span class="mxinfo " id="T1:U136">cot(<span class="mxinfo " id="T1:U137"><span class="var type1" id="S19T1U182">angle_out</span> - <span class="var type1" id="S16T1U183">angle_in</span></span>)</span></span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="64,19" id="srcline19"> 19</a></span><span class="line">        <span class="mxinfo " id="T1:U140"><span class="var type1" id="S39T1U186">Ycent</span> = <span class="mxinfo " id="T1:U142">0</span></span>;    </span></span>
<span class="srcline"><span class="lineno"><a href="64,20" id="srcline20"> 20</a></span><span class="line">    <span class="keyword">end</span>    </span></span>
<span class="srcline"><span class="lineno"><a href="64,21" id="srcline21"> 21</a></span><span class="line">    <span class="mxinfo " id="T1:U143"><span class="var type1" id="S41T1U190">DisIn2CentP</span> = <span class="mxinfo " id="T1:U145">sqrt(<span class="mxinfo " id="T1:U146"><span class="mxinfo " id="T1:U147">(<span class="mxinfo " id="T1:U148"><span class="var type1" id="S14T1U197">x_in</span> - <span class="var type1" id="S38T1U198">Xcent</span></span>)^2</span> + <span class="mxinfo " id="T1:U151">(<span class="mxinfo " id="T1:U152"><span class="var type1" id="S15T1U203">y_in</span> - <span class="var type1" id="S39T1U204">Ycent</span></span>)^2</span></span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="64,22" id="srcline22"> 22</a></span><span class="line">    <span class="mxinfo " id="T1:U155"><span class="var type1" id="S43T1U208">DisOut2CentP</span> = <span class="mxinfo " id="T1:U157">sqrt(<span class="mxinfo " id="T1:U158"><span class="mxinfo " id="T1:U159">(<span class="mxinfo " id="T1:U160"><span class="var type1" id="S17T1U215">x_out</span> - <span class="var type1" id="S38T1U216">Xcent</span></span>)^2</span> + <span class="mxinfo " id="T1:U163">(<span class="mxinfo " id="T1:U164"><span class="var type1" id="S18T1U221">y_out</span> - <span class="var type1" id="S39T1U222">Ycent</span></span>)^2</span></span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="64,23" id="srcline23"> 23</a></span><span class="line">    <span class="mxinfo " id="T1:U167"><span class="var type1" id="S44T1U226">Dis2CentP</span> = <span class="mxinfo " id="T1:U169">min(<span class="mxinfo " id="T33:U170">[<span class="var type1" id="S41T1U231">DisIn2CentP</span>,<span class="var type1" id="S43T1U232">DisOut2CentP</span>]</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="64,24" id="srcline24"> 24</a></span><span class="line">    <span class="keyword">if</span> <span class="mxinfo " id="T8:U173"><span class="var type1" id="S44T1U236">Dis2CentP</span> &gt; <span class="var type1" id="S35T1U237">TurnLen</span></span></span></span>
<span class="srcline"><span class="lineno"><a href="64,25" id="srcline25"> 25</a></span><span class="line">        <span class="mxinfo " id="T1:U176"><span class="var type1" id="S4T1U240">x_inStartTPoint</span> = <span class="mxinfo " id="T1:U178"><span class="var type1" id="S38T1U242">Xcent</span> - <span class="var type1" id="S35T1U243">TurnLen</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="64,26" id="srcline26"> 26</a></span><span class="line">        <span class="mxinfo " id="T1:U181"><span class="var type1" id="S5T1U246">y_inStartTPoint</span> = <span class="mxinfo " id="T1:U183">0</span></span>;    </span></span>
<span class="srcline"><span class="lineno"><a href="64,27" id="srcline27"> 27</a></span><span class="line">        <span class="mxinfo " id="T1:U184"><span class="var type1" id="S6T1U250">x_outEndTPoint</span> = <span class="mxinfo " id="T1:U186"><span class="var type1" id="S38T1U252">Xcent</span> + <span class="mxinfo " id="T1:U188"><span class="var type1" id="S35T1U254">TurnLen</span> * <span class="mxinfo " id="T1:U190">cos(<span class="mxinfo " id="T1:U191"><span class="var type1" id="S19T1U258">angle_out</span> - <span class="var type1" id="S16T1U259">angle_in</span></span>)</span></span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="64,28" id="srcline28"> 28</a></span><span class="line">        <span class="mxinfo " id="T1:U194"><span class="var type1" id="S7T1U262">y_outEndTPoint</span> = <span class="mxinfo " id="T1:U196"><span class="var type1" id="S39T1U264">Ycent</span> + <span class="mxinfo " id="T1:U198"><span class="var type1" id="S35T1U266">TurnLen</span> * <span class="mxinfo " id="T1:U200">sin(<span class="mxinfo " id="T1:U201"><span class="var type1" id="S19T1U270">angle_out</span> - <span class="var type1" id="S16T1U271">angle_in</span></span>)</span></span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="64,29" id="srcline29"> 29</a></span><span class="line">    <span class="keyword">else</span></span></span>
<span class="srcline"><span class="lineno"><a href="64,30" id="srcline30"> 30</a></span><span class="line">        <span class="mxinfo " id="T1:U204"><span class="var type1" id="S4T1U275">x_inStartTPoint</span> = <span class="mxinfo " id="T1:U206"><span class="var type1" id="S38T1U277">Xcent</span> - <span class="var type1" id="S44T1U278">Dis2CentP</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="64,31" id="srcline31"> 31</a></span><span class="line">        <span class="mxinfo " id="T1:U209"><span class="var type1" id="S5T1U281">y_inStartTPoint</span> = <span class="mxinfo " id="T1:U211">0</span></span>;    </span></span>
<span class="srcline"><span class="lineno"><a href="64,32" id="srcline32"> 32</a></span><span class="line">        <span class="mxinfo " id="T1:U212"><span class="var type1" id="S6T1U285">x_outEndTPoint</span> = <span class="mxinfo " id="T1:U214"><span class="var type1" id="S38T1U287">Xcent</span> + <span class="mxinfo " id="T1:U216"><span class="var type1" id="S44T1U289">Dis2CentP</span> * <span class="mxinfo " id="T1:U218">cos(<span class="mxinfo " id="T1:U219"><span class="var type1" id="S19T1U293">angle_out</span> - <span class="var type1" id="S16T1U294">angle_in</span></span>)</span></span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="64,33" id="srcline33"> 33</a></span><span class="line">        <span class="mxinfo " id="T1:U222"><span class="var type1" id="S7T1U297">y_outEndTPoint</span> = <span class="mxinfo " id="T1:U224"><span class="var type1" id="S39T1U299">Ycent</span> + <span class="mxinfo " id="T1:U226"><span class="var type1" id="S44T1U301">Dis2CentP</span> * <span class="mxinfo " id="T1:U228">sin(<span class="mxinfo " id="T1:U229"><span class="var type1" id="S19T1U305">angle_out</span> - <span class="var type1" id="S16T1U306">angle_in</span></span>)</span></span></span></span>;              </span></span>
<span class="srcline"><span class="lineno"><a href="64,34" id="srcline34"> 34</a></span><span class="line">    <span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="64,35" id="srcline35"> 35</a></span><span class="line">    <span class="keyword">if</span> <span class="mxinfo " id="T8:U232"><span class="var type1" id="S30T1U310">PTrigFlg</span> &gt;<span class="mxinfo " id="T1:U234">1e-1</span></span></span></span>
<span class="srcline"><span class="lineno"><a href="64,36" id="srcline36"> 36</a></span><span class="line">        <span class="mxinfo " id="T1:U235"><span class="var type1" id="S11T1U314">PathPlanningSuccessFlg</span> = <span class="mxinfo " id="T1:U237">1</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="64,37" id="srcline37"> 37</a></span><span class="line">        <span class="keyword">switch</span> <span class="var type1" id="S31T1U317">CurState</span></span></span>
<span class="srcline"><span class="lineno"><a href="64,38" id="srcline38"> 38</a></span><span class="line">            <span class="keyword">case</span> <span class="mxinfo " id="T1:U239">1</span></span></span>
<span class="srcline"><span class="lineno"><a href="64,39" id="srcline39"> 39</a></span><span class="line">                <span class="mxinfo " id="T1:U240"><span class="var type1" id="S47T1U322">Dis2XinStPoint</span> = <span class="mxinfo " id="T1:U242">sqrt(<span class="mxinfo " id="T1:U243"><span class="mxinfo " id="T1:U244">(<span class="mxinfo " id="T1:U245"><span class="mxinfo " id="T1:U246"><span class="var type1" id="S22T10U330">Info_Me</span>(<span class="mxinfo " id="T9:U248">1</span>)</span> - <span class="var type1" id="S4T1U332">x_inStartTPoint</span></span>)^2</span> + <span class="mxinfo " id="T1:U250">(<span class="mxinfo " id="T1:U251"><span class="mxinfo " id="T1:U252"><span class="var type1" id="S22T10U338">Info_Me</span>(<span class="mxinfo " id="T9:U254">2</span>)</span> - <span class="var type1" id="S5T1U340">y_inStartTPoint</span></span>)^2</span></span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="64,40" id="srcline40"> 40</a></span><span class="line">                <span class="mxinfo " id="T33:U256"><span class="var type1" id="S10T33U344">TarPosInfo</span> = <span class="mxinfo " id="T33:U258">[<span class="var type1" id="S4T1U347">x_inStartTPoint</span>,<span class="var type1" id="S5T1U348">y_inStartTPoint</span>]</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="64,41" id="srcline41"> 41</a></span><span class="line">                <span class="mxinfo " id="T3:U261"><span class="var type1" id="S48T3U351">EgoCord</span> = <span class="mxinfo " id="T3:U263">[<span class="mxinfo " id="T1:U264"><span class="var type1" id="S22T10U355">Info_Me</span>(<span class="mxinfo " id="T9:U266">1</span>)</span>,<span class="mxinfo " id="T1:U267"><span class="var type1" id="S22T10U358">Info_Me</span>(<span class="mxinfo " id="T9:U269">2</span>)</span>,<span class="mxinfo " id="T1:U270"><span class="var type1" id="S22T10U361">Info_Me</span>(<span class="mxinfo " id="T9:U272">6</span>)</span>]</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="64,42" id="srcline42"> 42</a></span><span class="line">                <span class="mxinfo " id="T3:U273"><span class="var type1" id="S49T3U365">TargetCord</span> = <span class="mxinfo " id="T3:U275">[<span class="var type1" id="S4T1U368">x_inStartTPoint</span>,<span class="var type1" id="S5T1U369">y_inStartTPoint</span>,<span class="var type1" id="S16T1U370">angle_in</span>]</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="64,43" id="srcline43"> 43</a></span><span class="line">                <span class="mxinfo " id="T1:U279"><span class="var type1" id="S50T1U373">PassFlg</span> = <span class="mxinfo " id="T1:U281"><span class="fcn" id="F139N112:B375">PassJudgement</span>(<span class="var type1" id="S48T3U376">EgoCord</span>,<span class="var type1" id="S49T3U377">TargetCord</span>)</span></span></span></span>
<span class="srcline"><span class="lineno"><a href="64,44" id="srcline44"> 44</a></span><span class="line">                <span class="keyword">if</span> (<span class="mxinfo " id="T8:U284"><span class="var type1" id="S29T1U383">PTurnTrigFlg</span> &lt;<span class="mxinfo " id="T1:U286">1</span></span>)&amp;&amp;(<span class="mxinfo " id="T8:U287"><span class="var type1" id="S47T1U388">Dis2XinStPoint</span> &lt; <span class="mxinfo " id="T1:U289">1</span></span>||<span class="mxinfo " id="T8:U290"><span class="var type1" id="S50T1U391">PassFlg</span>&gt;<span class="mxinfo " id="T1:U292">0.5</span></span>)</span></span>
<span class="srcline"><span class="lineno"><a href="64,45" id="srcline45"> 45</a></span><span class="line">                    <span class="keyword">if</span> (<span class="mxinfo " id="T8:U293"><span class="var type1" id="S25T1U397">EnterZoneFlg</span>&gt;<span class="mxinfo " id="T1:U295">0.5</span></span>)</span></span>
<span class="srcline"><span class="lineno"><a href="64,46" id="srcline46"> 46</a></span><span class="line">                        <span class="mxinfo " id="T1:U296"><span class="var type1" id="S3T1U401">TrunTrigFlg</span> = <span class="mxinfo " id="T1:U298">1</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="64,47" id="srcline47"> 47</a></span><span class="line">                        <span class="mxinfo " id="T1:U299"><span class="var type1" id="S29T1U405">PTurnTrigFlg</span> = <span class="mxinfo " id="T1:U301">1</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="64,48" id="srcline48"> 48</a></span><span class="line">                        <span class="mxinfo " id="T1:U302"><span class="var type1" id="S31T1U409">CurState</span> = <span class="mxinfo " id="T1:U304">2</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="64,49" id="srcline49"> 49</a></span><span class="line">                        <span class="mxinfo " id="T10:U305"><span class="var type1" id="S32T10U413">PInfo_Me</span> = <span class="var type1" id="S22T10U414">Info_Me</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="64,50" id="srcline50"> 50</a></span><span class="line">                        <span class="mxinfo " id="T1:U308"><span class="var type1" id="S8T1U417">CurActiveModel</span> = <span class="mxinfo " id="T1:U310">2</span></span>; </span></span>
<span class="srcline"><span class="lineno"><a href="64,51" id="srcline51"> 51</a></span><span class="line">                        <span class="mxinfo " id="T33:U311"><span class="var type1" id="S10T33U421">TarPosInfo</span> = <span class="mxinfo " id="T33:U313">[<span class="var type1" id="S6T1U424">x_outEndTPoint</span>,<span class="var type1" id="S7T1U425">y_outEndTPoint</span>]</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="64,52" id="srcline52"> 52</a></span><span class="line">                    <span class="keyword">else</span></span></span>
<span class="srcline"><span class="lineno"><a href="64,53" id="srcline53"> 53</a></span><span class="line">                        <span class="mxinfo " id="T1:U316"><span class="var type1" id="S31T1U429">CurState</span> = <span class="mxinfo " id="T1:U318">4</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="64,54" id="srcline54"> 54</a></span><span class="line">                    <span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="64,55" id="srcline55"> 55</a></span><span class="line">                <span class="keyword">else</span></span></span>
<span class="srcline"><span class="lineno"><a href="64,56" id="srcline56"> 56</a></span><span class="line">                    <span class="mxinfo " id="T1:U319"><span class="var type1" id="S8T1U434">CurActiveModel</span> = <span class="mxinfo " id="T1:U321">1</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="64,57" id="srcline57"> 57</a></span><span class="line">                <span class="keyword">end</span>        </span></span>
<span class="srcline"><span class="lineno"><a href="64,58" id="srcline58"> 58</a></span><span class="line">            <span class="keyword">case</span> <span class="mxinfo " id="T1:U322">2</span></span></span>
<span class="srcline"><span class="lineno"><a href="64,59" id="srcline59"> 59</a></span><span class="line">                <span class="keyword">if</span> <span class="mxinfo " id="T8:U323"><span class="var type1" id="S27T1U441">PathPlanRetryFlg</span> &lt; <span class="mxinfo " id="T1:U325">0.5</span></span>                    </span></span>
<span class="srcline"><span class="lineno"><a href="64,60" id="srcline60"> 60</a></span><span class="line">                    <span class="keyword">if</span> <span class="mxinfo " id="T8:U326"><span class="var type1" id="S26T1U446">ExitOutOfTurn</span> &lt; <span class="mxinfo " id="T1:U328">0.5</span></span></span></span>
<span class="srcline"><span class="lineno"><a href="64,61" id="srcline61"> 61</a></span><span class="line">                        <span class="var type1" id="S52T1U450">Dis2XoutEndPoint</span> = sqrt((<span class="var type1" id="S22T10U458">Info_Me</span>(1) - <span class="var type1" id="S6T1U460">x_outEndTPoint</span>)^2 + (<span class="var type1" id="S22T10U466">Info_Me</span>(2) - <span class="var type1" id="S7T1U468">y_outEndTPoint</span>)^2);</span></span>
<span class="srcline"><span class="lineno"><a href="64,62" id="srcline62"> 62</a></span><span class="line">                        <span class="var type1" id="S10T33U472">TarPosInfo</span> = [<span class="var type1" id="S6T1U475">x_outEndTPoint</span> <span class="var type1" id="S7T1U476">y_outEndTPoint</span>];</span></span>
<span class="srcline"><span class="lineno"><a href="64,63" id="srcline63"> 63</a></span><span class="line">                        <span class="var type1" id="S48T3U479">EgoCord</span> = [<span class="var type1" id="S22T10U483">Info_Me</span>(1),<span class="var type1" id="S22T10U486">Info_Me</span>(2),<span class="var type1" id="S22T10U489">Info_Me</span>(6)];</span></span>
<span class="srcline"><span class="lineno"><a href="64,64" id="srcline64"> 64</a></span><span class="line">                        <span class="var type1" id="S49T3U493">TargetCord</span> = [<span class="var type1" id="S6T1U496">x_outEndTPoint</span> <span class="var type1" id="S7T1U497">y_outEndTPoint</span>,<span class="var type1" id="S19T1U498">angle_out</span>];</span></span>
<span class="srcline"><span class="lineno"><a href="64,65" id="srcline65"> 65</a></span><span class="line">                        <span class="var type1" id="S50T1U501">PassFlg</span> = <span class="fcn" id="F139N112:B503">PassJudgement</span>(<span class="var type1" id="S48T3U504">EgoCord</span>,<span class="var type1" id="S49T3U505">TargetCord</span>);</span></span>
<span class="srcline"><span class="lineno"><a href="64,66" id="srcline66"> 66</a></span><span class="line">                        <span class="keyword">if</span> (<span class="var type1" id="S52T1U512">Dis2XoutEndPoint</span> &lt; 1 || <span class="var type1" id="S50T1U515">PassFlg</span> &gt; 0.5)&amp;&amp;abs(sin(<span class="var type1" id="S19T1U523">angle_out</span> - <span class="var type1" id="S22T10U525">Info_Me</span>(6)))&lt;sin(5/180*3.14)</span></span>
<span class="srcline"><span class="lineno"><a href="64,67" id="srcline67"> 67</a></span><span class="line">                            <span class="var type1" id="S29T1U536">PTurnTrigFlg</span> = 0;    <span class="var type1" id="S31T1U540">CurState</span> =3;  <span class="var type1" id="S8T1U544">CurActiveModel</span> = 3;</span></span>
<span class="srcline"><span class="lineno"><a href="64,68" id="srcline68"> 68</a></span><span class="line">                        <span class="keyword">else</span></span></span>
<span class="srcline"><span class="lineno"><a href="64,69" id="srcline69"> 69</a></span><span class="line">                            <span class="var type1" id="S8T1U549">CurActiveModel</span> = 2;</span></span>
<span class="srcline"><span class="lineno"><a href="64,70" id="srcline70"> 70</a></span><span class="line">                        <span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="64,71" id="srcline71"> 71</a></span><span class="line">                    <span class="keyword">else</span></span></span>
<span class="srcline"><span class="lineno"><a href="64,72" id="srcline72"> 72</a></span><span class="line">                        <span class="mxinfo " id="T1:U356"><span class="var type1" id="S53T1U554">Dis2XoutPoint</span> = <span class="mxinfo " id="T1:U358">sqrt(<span class="mxinfo " id="T1:U359"><span class="mxinfo " id="T1:U360">(<span class="mxinfo " id="T1:U361"><span class="mxinfo " id="T1:U362"><span class="var type1" id="S22T10U562">Info_Me</span>(<span class="mxinfo " id="T9:U364">1</span>)</span> - <span class="var type1" id="S17T1U564">x_out</span></span>)^2</span> + <span class="mxinfo " id="T1:U366">(<span class="mxinfo " id="T1:U367"><span class="mxinfo " id="T1:U368"><span class="var type1" id="S22T10U570">Info_Me</span>(<span class="mxinfo " id="T9:U370">2</span>)</span> - <span class="var type1" id="S18T1U572">y_out</span></span>)^2</span></span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="64,73" id="srcline73"> 73</a></span><span class="line">                        <span class="mxinfo " id="T33:U372"><span class="var type1" id="S10T33U576">TarPosInfo</span> = <span class="mxinfo " id="T33:U374">[<span class="var type1" id="S6T1U579">x_outEndTPoint</span> <span class="var type1" id="S7T1U580">y_outEndTPoint</span>]</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="64,74" id="srcline74"> 74</a></span><span class="line">                        <span class="mxinfo " id="T3:U377"><span class="var type1" id="S48T3U583">EgoCord</span> = <span class="mxinfo " id="T3:U379">[<span class="mxinfo " id="T1:U380"><span class="var type1" id="S22T10U587">Info_Me</span>(<span class="mxinfo " id="T9:U382">1</span>)</span>,<span class="mxinfo " id="T1:U383"><span class="var type1" id="S22T10U590">Info_Me</span>(<span class="mxinfo " id="T9:U385">2</span>)</span>,<span class="mxinfo " id="T1:U386"><span class="var type1" id="S22T10U593">Info_Me</span>(<span class="mxinfo " id="T9:U388">6</span>)</span>]</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="64,75" id="srcline75"> 75</a></span><span class="line">                        <span class="mxinfo " id="T3:U389"><span class="var type1" id="S49T3U597">TargetCord</span> = <span class="mxinfo " id="T3:U391">[<span class="var type1" id="S6T1U600">x_outEndTPoint</span> <span class="var type1" id="S7T1U601">y_outEndTPoint</span>,<span class="var type1" id="S19T1U602">angle_out</span>]</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="64,76" id="srcline76"> 76</a></span><span class="line">                        <span class="mxinfo " id="T1:U395"><span class="var type1" id="S50T1U605">PassFlg</span> = <span class="mxinfo " id="T1:U397"><span class="fcn" id="F139N112:B607">PassJudgement</span>(<span class="var type1" id="S48T3U608">EgoCord</span>,<span class="var type1" id="S49T3U609">TargetCord</span>)</span></span>;                        </span></span>
<span class="srcline"><span class="lineno"><a href="64,77" id="srcline77"> 77</a></span><span class="line">                        <span class="keyword">if</span> (<span class="mxinfo " id="T8:U400"><span class="var type1" id="S53T1U617">Dis2XoutPoint</span> &lt; <span class="mxinfo " id="T1:U402">1</span></span> || <span class="mxinfo " id="T8:U403"><span class="var type1" id="S50T1U620">PassFlg</span> &gt; <span class="mxinfo " id="T1:U405">0.5</span></span>)&amp;&amp;<span class="mxinfo " id="T8:U406"><span class="mxinfo " id="T1:U407">abs(<span class="mxinfo " id="T1:U408">sin(<span class="mxinfo " id="T1:U409"><span class="var type1" id="S19T1U628">angle_out</span> - <span class="mxinfo " id="T1:U411"><span class="var type1" id="S22T10U630">Info_Me</span>(<span class="mxinfo " id="T1:U413">6</span>)</span></span>)</span>)</span>&lt;<span class="mxinfo " id="T1:U414">sin(<span class="mxinfo " id="T1:U415">5/180*3.14</span>)</span></span>&amp;&amp;(<span class="mxinfo " id="T8:U416"><span class="var type1" id="S28T1U641">StopFlg</span>&lt;<span class="mxinfo " id="T1:U418">0.5</span></span>)</span></span>
<span class="srcline"><span class="lineno"><a href="64,78" id="srcline78"> 78</a></span><span class="line">                            <span class="mxinfo " id="T1:U419"><span class="var type1" id="S29T1U645">PTurnTrigFlg</span> = <span class="mxinfo " id="T1:U421">0</span></span>;    <span class="mxinfo " id="T1:U422"><span class="var type1" id="S31T1U649">CurState</span> =<span class="mxinfo " id="T1:U424">0</span></span>;     <span class="mxinfo " id="T1:U425"><span class="var type1" id="S2T1U653">PathFinishFlg</span> = <span class="mxinfo " id="T1:U427">1</span></span>;  <span class="mxinfo " id="T1:U428"><span class="var type1" id="S8T1U657">CurActiveModel</span> = <span class="mxinfo " id="T1:U430">2</span></span>;<span class="mxinfo " id="T1:U431"><span class="var type1" id="S11T1U661">PathPlanningSuccessFlg</span> = <span class="mxinfo " id="T1:U433">0</span></span>;<span class="mxinfo " id="T1:U434"><span class="var type1" id="S30T1U665">PTrigFlg</span> = <span class="mxinfo " id="T1:U436">0</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="64,79" id="srcline79"> 79</a></span><span class="line">                        <span class="keyword">else</span></span></span>
<span class="srcline"><span class="lineno"><a href="64,80" id="srcline80"> 80</a></span><span class="line">                             <span class="mxinfo " id="T1:U437"><span class="var type1" id="S8T1U670">CurActiveModel</span> = <span class="mxinfo " id="T1:U439">2</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="64,81" id="srcline81"> 81</a></span><span class="line">                        <span class="keyword">end</span> </span></span>
<span class="srcline"><span class="lineno"><a href="64,82" id="srcline82"> 82</a></span><span class="line">                    <span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="64,83" id="srcline83"> 83</a></span><span class="line">                <span class="keyword">else</span></span></span>
<span class="srcline"><span class="lineno"><a href="64,84" id="srcline84"> 84</a></span><span class="line">                    <span class="mxinfo " id="T1:U440"><span class="var type1" id="S29T1U675">PTurnTrigFlg</span> = <span class="mxinfo " id="T1:U442">0</span></span>;<span class="mxinfo " id="T1:U443"><span class="var type1" id="S31T1U679">CurState</span> =<span class="mxinfo " id="T1:U445">4</span></span>;<span class="mxinfo " id="T1:U446"><span class="var type1" id="S8T1U683">CurActiveModel</span> = <span class="mxinfo " id="T1:U448">1</span></span>;<span class="mxinfo " id="T33:U449"><span class="var type1" id="S10T33U687">TarPosInfo</span> = <span class="mxinfo " id="T33:U451">[<span class="var type1" id="S4T1U690">x_inStartTPoint</span>,<span class="var type1" id="S5T1U691">y_inStartTPoint</span>]</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="64,85" id="srcline85"> 85</a></span><span class="line">                <span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="64,86" id="srcline86"> 86</a></span><span class="line">            <span class="keyword">case</span> <span class="mxinfo " id="T1:U454">3</span></span></span>
<span class="srcline"><span class="lineno"><a href="64,87" id="srcline87"> 87</a></span><span class="line">                <span class="mxinfo " id="T1:U455"><span class="var type1" id="S53T1U696">Dis2XoutPoint</span> = <span class="mxinfo " id="T1:U457">sqrt(<span class="mxinfo " id="T1:U458"><span class="mxinfo " id="T1:U459">(<span class="mxinfo " id="T1:U460"><span class="mxinfo " id="T1:U461"><span class="var type1" id="S22T10U704">Info_Me</span>(<span class="mxinfo " id="T9:U463">1</span>)</span> - <span class="var type1" id="S17T1U706">x_out</span></span>)^2</span> + <span class="mxinfo " id="T1:U465">(<span class="mxinfo " id="T1:U466"><span class="mxinfo " id="T1:U467"><span class="var type1" id="S22T10U712">Info_Me</span>(<span class="mxinfo " id="T9:U469">2</span>)</span> - <span class="var type1" id="S18T1U714">y_out</span></span>)^2</span></span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="64,88" id="srcline88"> 88</a></span><span class="line">                <span class="mxinfo " id="T33:U471"><span class="var type1" id="S10T33U718">TarPosInfo</span> = <span class="mxinfo " id="T33:U473">[<span class="var type1" id="S17T1U721">x_out</span> <span class="var type1" id="S18T1U722">y_out</span>]</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="64,89" id="srcline89"> 89</a></span><span class="line">                <span class="keyword">if</span> <span class="mxinfo " id="T8:U476"><span class="var type1" id="S53T1U726">Dis2XoutPoint</span> &lt; <span class="mxinfo " id="T1:U478">1</span></span>                   </span></span>
<span class="srcline"><span class="lineno"><a href="64,90" id="srcline90"> 90</a></span><span class="line">                    <span class="mxinfo " id="T1:U479"><span class="var type1" id="S29T1U730">PTurnTrigFlg</span> = <span class="mxinfo " id="T1:U481">0</span></span>;    <span class="mxinfo " id="T1:U482"><span class="var type1" id="S31T1U734">CurState</span> =<span class="mxinfo " id="T1:U484">0</span></span>;     <span class="mxinfo " id="T1:U485"><span class="var type1" id="S2T1U738">PathFinishFlg</span> = <span class="mxinfo " id="T1:U487">1</span></span>;  <span class="mxinfo " id="T1:U488"><span class="var type1" id="S8T1U742">CurActiveModel</span> = <span class="mxinfo " id="T1:U490">3</span></span>;<span class="mxinfo " id="T1:U491"><span class="var type1" id="S11T1U746">PathPlanningSuccessFlg</span> = <span class="mxinfo " id="T1:U493">0</span></span>;<span class="mxinfo " id="T1:U494"><span class="var type1" id="S30T1U750">PTrigFlg</span> = <span class="mxinfo " id="T1:U496">0</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="64,91" id="srcline91"> 91</a></span><span class="line">                <span class="keyword">else</span></span></span>
<span class="srcline"><span class="lineno"><a href="64,92" id="srcline92"> 92</a></span><span class="line">                     <span class="mxinfo " id="T1:U497"><span class="var type1" id="S8T1U755">CurActiveModel</span> = <span class="mxinfo " id="T1:U499">3</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="64,93" id="srcline93"> 93</a></span><span class="line">                <span class="keyword">end</span> </span></span>
<span class="srcline"><span class="lineno"><a href="64,94" id="srcline94"> 94</a></span><span class="line">            <span class="keyword">case</span> <span class="mxinfo " id="T1:U500">4</span></span></span>
<span class="srcline"><span class="lineno"><a href="64,95" id="srcline95"> 95</a></span><span class="line">                <span class="comment">%Pending</span></span></span>
<span class="srcline"><span class="lineno"><a href="64,96" id="srcline96"> 96</a></span><span class="line">                <span class="mxinfo " id="T33:U501"><span class="var type1" id="S10T33U761">TarPosInfo</span> = <span class="mxinfo " id="T33:U503">[<span class="var type1" id="S4T1U764">x_inStartTPoint</span>,<span class="var type1" id="S5T1U765">y_inStartTPoint</span>]</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="64,97" id="srcline97"> 97</a></span><span class="line">                <span class="keyword">if</span> (<span class="mxinfo " id="T8:U506"><span class="var type1" id="S29T1U771">PTurnTrigFlg</span> &lt;<span class="mxinfo " id="T1:U508">1</span></span>)&amp;&amp;(<span class="mxinfo " id="T8:U509"><span class="var type1" id="S25T1U775">EnterZoneFlg</span>&gt;<span class="mxinfo " id="T1:U511">0.5</span></span>)</span></span>
<span class="srcline"><span class="lineno"><a href="64,98" id="srcline98"> 98</a></span><span class="line">                    <span class="mxinfo " id="T1:U512"><span class="var type1" id="S3T1U779">TrunTrigFlg</span> = <span class="mxinfo " id="T1:U514">1</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="64,99" id="srcline99"> 99</a></span><span class="line">                    <span class="mxinfo " id="T1:U515"><span class="var type1" id="S29T1U783">PTurnTrigFlg</span> = <span class="mxinfo " id="T1:U517">1</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="64,100" id="srcline100">100</a></span><span class="line">                    <span class="mxinfo " id="T1:U518"><span class="var type1" id="S31T1U787">CurState</span> = <span class="mxinfo " id="T1:U520">2</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="64,101" id="srcline101">101</a></span><span class="line">                    <span class="mxinfo " id="T10:U521"><span class="var type1" id="S32T10U791">PInfo_Me</span> = <span class="var type1" id="S22T10U792">Info_Me</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="64,102" id="srcline102">102</a></span><span class="line">                    <span class="mxinfo " id="T1:U524"><span class="var type1" id="S8T1U795">CurActiveModel</span> = <span class="mxinfo " id="T1:U526">2</span></span>; </span></span>
<span class="srcline"><span class="lineno"><a href="64,103" id="srcline103">103</a></span><span class="line">                    <span class="mxinfo " id="T33:U527"><span class="var type1" id="S10T33U799">TarPosInfo</span> = <span class="mxinfo " id="T33:U529">[<span class="var type1" id="S6T1U802">x_outEndTPoint</span>,<span class="var type1" id="S7T1U803">y_outEndTPoint</span>]</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="64,104" id="srcline104">104</a></span><span class="line">                <span class="keyword">else</span></span></span>
<span class="srcline"><span class="lineno"><a href="64,105" id="srcline105">105</a></span><span class="line">                    <span class="mxinfo " id="T1:U532"><span class="var type1" id="S8T1U807">CurActiveModel</span> = <span class="mxinfo " id="T1:U534">1</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="64,106" id="srcline106">106</a></span><span class="line">                <span class="keyword">end</span>                </span></span>
<span class="srcline"><span class="lineno"><a href="64,107" id="srcline107">107</a></span><span class="line">            <span class="keyword">otherwise</span></span></span>
<span class="srcline"><span class="lineno"><a href="64,108" id="srcline108">108</a></span><span class="line">        <span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="64,109" id="srcline109">109</a></span><span class="line">    <span class="keyword">else</span></span></span>
<span class="srcline"><span class="lineno"><a href="64,110" id="srcline110">110</a></span><span class="line">        <span class="mxinfo " id="T1:U535"><span class="var type1" id="S2T1U813">PathFinishFlg</span> = <span class="mxinfo " id="T1:U537">1</span></span>;<span class="mxinfo " id="T1:U538"><span class="var type1" id="S30T1U817">PTrigFlg</span> = <span class="mxinfo " id="T1:U540">0</span></span>;<span class="mxinfo " id="T1:U541"><span class="var type1" id="S11T1U821">PathPlanningSuccessFlg</span> = <span class="mxinfo " id="T1:U543">0</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="64,111" id="srcline111">111</a></span><span class="line">    <span class="keyword">end</span> </span></span>
<span class="srcline"><span class="lineno"><a href="64,112" id="srcline112">112</a></span><span class="line">    <span class="mxinfo " id="T7:U544"><span class="mxinfo " id="T7:U545"><span class="var type1" id="S9T11U826">RoadInfoPGCd</span>(<span class="mxinfo " id="T1:U547">1</span>,<span class="mxinfo " id="T38:U548">:</span>)</span> = <span class="mxinfo " id="T7:U549">[<span class="mxinfo " id="T1:U550"><span class="var type1" id="S32T10U832">PInfo_Me</span>(<span class="mxinfo " id="T1:U552">1</span>)</span>,<span class="mxinfo " id="T1:U553"><span class="var type1" id="S32T10U835">PInfo_Me</span>(<span class="mxinfo " id="T1:U555">2</span>)</span>,<span class="mxinfo " id="T1:U556"><span class="var type1" id="S32T10U838">PInfo_Me</span>(<span class="mxinfo " id="T1:U558">6</span>)</span>,<span class="var type1" id="S20T1U840">W_in</span>]</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="64,113" id="srcline113">113</a></span><span class="line">    <span class="mxinfo " id="T7:U560"><span class="mxinfo " id="T7:U561"><span class="var type1" id="S9T11U844">RoadInfoPGCd</span>(<span class="mxinfo " id="T1:U563">2</span>,<span class="mxinfo " id="T38:U564">:</span>)</span> = <span class="mxinfo " id="T7:U565">[<span class="var type1" id="S6T1U849">x_outEndTPoint</span>,<span class="var type1" id="S7T1U850">y_outEndTPoint</span>,<span class="var type1" id="S19T1U851">angle_out</span>,<span class="var type1" id="S21T1U852">W_out</span>]</span></span>;            </span></span>
<span class="srcline"><span class="lineno"><a href="64,114" id="srcline114">114</a></span><span class="line"><span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="64,115" id="srcline115">115</a></span><span class="line"></span></span>
</pre>
<div class="dead">
<pre class="code">
<span class="srcline"><span class="lineno"><a href="64,116" id="srcline116">116</a></span><span class="line">function PassFlg = PassJudgement(EgoCord,TargetCord)</span></span>
<span class="srcline"><span class="lineno"><a href="64,117" id="srcline117">117</a></span><span class="line">    EgoCordTemp = CordTransfer(EgoCord,TargetCord);</span></span>
<span class="srcline"><span class="lineno"><a href="64,118" id="srcline118">118</a></span><span class="line">    if EgoCordTemp(1) &gt; 0</span></span>
<span class="srcline"><span class="lineno"><a href="64,119" id="srcline119">119</a></span><span class="line">        PassFlg = 1;</span></span>
<span class="srcline"><span class="lineno"><a href="64,120" id="srcline120">120</a></span><span class="line">    else</span></span>
<span class="srcline"><span class="lineno"><a href="64,121" id="srcline121">121</a></span><span class="line">        PassFlg = 0;</span></span>
<span class="srcline"><span class="lineno"><a href="64,122" id="srcline122">122</a></span><span class="line">    end</span></span>
<span class="srcline"><span class="lineno"><a href="64,123" id="srcline123">123</a></span><span class="line">end</span></span>
<span class="srcline"><span class="lineno"><a href="64,124" id="srcline124">124</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="64,125" id="srcline125">125</a></span><span class="line">function CordAfter = CordTransfer(CordBefore,CordOrig)</span></span>
<span class="srcline"><span class="lineno"><a href="64,126" id="srcline126">126</a></span><span class="line">    </span></span>
<span class="srcline"><span class="lineno"><a href="64,127" id="srcline127">127</a></span><span class="line">    theta_rot = CordOrig(3);</span></span>
<span class="srcline"><span class="lineno"><a href="64,128" id="srcline128">128</a></span><span class="line">    xpositionTemp = (CordBefore(1) - CordOrig(1))*cos(theta_rot) + (CordBefore(2) - CordOrig(2))*sin(theta_rot);</span></span>
<span class="srcline"><span class="lineno"><a href="64,129" id="srcline129">129</a></span><span class="line">    ypositionTemp = (CordBefore(2) - CordOrig(2))*cos(theta_rot) - (CordBefore(1) - CordOrig(1))*sin(theta_rot);</span></span>
<span class="srcline"><span class="lineno"><a href="64,130" id="srcline130">130</a></span><span class="line">    AngleTemp = CordBefore(3)-theta_rot;</span></span>
<span class="srcline"><span class="lineno"><a href="64,131" id="srcline131">131</a></span><span class="line">    while(1)</span></span>
<span class="srcline"><span class="lineno"><a href="64,132" id="srcline132">132</a></span><span class="line">        if (AngleTemp &gt;= 0)&amp;&amp;(AngleTemp &lt; 2*pi)</span></span>
<span class="srcline"><span class="lineno"><a href="64,133" id="srcline133">133</a></span><span class="line">            break;</span></span>
<span class="srcline"><span class="lineno"><a href="64,134" id="srcline134">134</a></span><span class="line">        else</span></span>
<span class="srcline"><span class="lineno"><a href="64,135" id="srcline135">135</a></span><span class="line">            if AngleTemp&lt;0</span></span>
<span class="srcline"><span class="lineno"><a href="64,136" id="srcline136">136</a></span><span class="line">                AngleTemp = AngleTemp + 2*pi;</span></span>
<span class="srcline"><span class="lineno"><a href="64,137" id="srcline137">137</a></span><span class="line">            else</span></span>
<span class="srcline"><span class="lineno"><a href="64,138" id="srcline138">138</a></span><span class="line">                AngleTemp = AngleTemp - 2*pi;</span></span>
<span class="srcline"><span class="lineno"><a href="64,139" id="srcline139">139</a></span><span class="line">            end            </span></span>
<span class="srcline"><span class="lineno"><a href="64,140" id="srcline140">140</a></span><span class="line">        end</span></span>
<span class="srcline"><span class="lineno"><a href="64,141" id="srcline141">141</a></span><span class="line">    end</span></span>
<span class="srcline"><span class="lineno"><a href="64,142" id="srcline142">142</a></span><span class="line">    CordAfter = [xpositionTemp,ypositionTemp,AngleTemp];</span></span>
<span class="srcline"><span class="lineno"><a href="64,143" id="srcline143">143</a></span><span class="line">end</span></span>
<span class="srcline"><span class="lineno"><a href="64,144" id="srcline144">144</a></span><span class="line"> </span></span>
</pre>
</div>
