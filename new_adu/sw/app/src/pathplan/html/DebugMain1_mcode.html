<!-- saved from url=(0014)about:internet -->
<pre class="code">
<span class="srcline"><span class="lineno"><a href="1,1" id="srcline1"> 1</a></span><span class="line"><span class="keyword">function</span> [<span class="var type1" id="S2T1U3">PreviewDistance</span>,<span class="var type1" id="S3T1U4">LateralDistance</span>,<span class="var type1" id="S4T1U5">LongitudinalError</span>,<span class="var type1" id="S5T1U6">LateralError</span>,<span class="keyword">...</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,2" id="srcline2"> 2</a></span><span class="line">          <span class="var type1" id="S6T1U7">TargetLongitudinalSpeed</span>,<span class="var type1" id="S7T1U8">PathPlanControl</span>,<span class="var type1" id="S8T1U9">TargetOrientationAngle</span>,<span class="keyword">...</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,3" id="srcline3"> 3</a></span><span class="line">          <span class="var type1" id="S9T1U10">PreviewTime</span>,<span class="var type1" id="S10T1U11">PathPlanAvaliable</span>,<span class="var type1" id="S11T1U12">SpeedLimit</span>,<span class="var type1" id="S12T1U13">StopFlg</span>,<span class="keyword">...</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,4" id="srcline4"> 4</a></span><span class="line">          <span class="var type1" id="S13T1U14">aCal</span>]=DebugMain(<span class="var type1" id="S14T2U17">FusObjPre</span>,<span class="var type1" id="S15T3U18">Lane_NumInfoPre</span>,<span class="var type1" id="S16T4U19">Line_ShapeInfo</span>,<span class="var type1" id="S17T5U20">Veh_State</span>,<span class="var type1" id="S18T6U21">Navi_Info</span>,<span class="keyword">...</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,5" id="srcline5"> 5</a></span><span class="line">                          <span class="var type1" id="S19T1U22">TrigStart</span>,<span class="var type1" id="S20T7U23">End</span>,<span class="var type1" id="S21T1U24">EPS_Status</span>,<span class="var type1" id="S22T1U25">ResSwAct</span>,<span class="var type1" id="S23T1U26">DrvBrkEng</span>,<span class="var type1" id="S24T1U27">YawRate</span>,<span class="var type1" id="S25T1U28">StrWhAng</span>,<span class="keyword">...</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,6" id="srcline6"> 6</a></span><span class="line">                          <span class="var type1" id="S26T1U29">TurnLight</span>,<span class="var type1" id="S27T1U30">TrnShutDwn</span>,<span class="var type1" id="S28T1U31">LCShutDwn</span>,<span class="var type1" id="S29T1U32">UseFakeCIPVEn</span>)</span></span>
<span class="srcline"><span class="lineno"><a href="1,7" id="srcline7"> 7</a></span><span class="line">                      <span class="comment">% YawRate deg/s StrWhAng deg/s--Steering wheel angle</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,8" id="srcline8"> 8</a></span><span class="line">                      <span class="comment">% rate</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,9" id="srcline9"> 9</a></span><span class="line">    <span class="keyword">persistent</span> <span class="var type1" id="S30T1U34">POperationFinishFlgIn</span> <span class="var type1" id="S31T1U35">PPPEn</span> <span class="var type1" id="S32T1U36">PLCStartFlg</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,10" id="srcline10">10</a></span><span class="line">    <span class="keyword">if</span> <span class="mxinfo " id="T8:U32">isempty(<span class="var type0" id="S30T0U41">POperationFinishFlgIn</span>)</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,11" id="srcline11">11</a></span><span class="line">        <span class="mxinfo " id="T1:U33"><span class="var type1" id="S30T1U44">POperationFinishFlgIn</span> = <span class="mxinfo " id="T1:U35">0</span></span>;<span class="mxinfo " id="T1:U36"><span class="var type1" id="S31T1U48">PPPEn</span> = <span class="mxinfo " id="T1:U38">0</span></span>;<span class="mxinfo " id="T1:U39"><span class="var type1" id="S32T1U52">PLCStartFlg</span> = <span class="mxinfo " id="T1:U41">0</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,12" id="srcline12">12</a></span><span class="line">    <span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,13" id="srcline13">13</a></span><span class="line">    <span class="keyword">if</span> <span class="mxinfo " id="T8:U42"><span class="mxinfo " id="T1:U43">abs(<span class="mxinfo " id="T1:U44"><span class="var type1" id="S17T5U60">Veh_State</span>(<span class="mxinfo " id="T9:U46">8</span>)</span>)</span>&gt;<span class="mxinfo " id="T1:U47">1</span></span></span></span>
<span class="srcline"><span class="lineno"><a href="1,14" id="srcline14">14</a></span><span class="line">        <span class="mxinfo " id="T1:U48"><span class="var type1" id="S35T1U65">kur</span> = <span class="mxinfo " id="T1:U50"><span class="mxinfo " id="T1:U51"><span class="mxinfo " id="T1:U52"><span class="var type1" id="S24T1U69">YawRate</span>/<span class="mxinfo " id="T1:U54">180</span></span>*<span class="mxinfo " id="T1:U55">3.14</span></span>/<span class="mxinfo " id="T1:U56"><span class="var type1" id="S17T5U73">Veh_State</span>(<span class="mxinfo " id="T9:U58">8</span>)</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,15" id="srcline15">15</a></span><span class="line">    <span class="keyword">else</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,16" id="srcline16">16</a></span><span class="line">        <span class="mxinfo " id="T1:U59"><span class="var type1" id="S35T1U78">kur</span> = <span class="mxinfo " id="T1:U61"><span class="mxinfo " id="T1:U62">sin(<span class="mxinfo " id="T1:U63"><span class="mxinfo " id="T1:U64"><span class="mxinfo " id="T1:U65"><span class="var type1" id="S25T1U85">StrWhAng</span>/<span class="mxinfo " id="T1:U67">180</span></span>*<span class="mxinfo " id="T1:U68">3.14</span></span>/<span class="mxinfo " id="T1:U69">15.6</span></span>)</span>/<span class="mxinfo " id="T1:U70">2.86</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,17" id="srcline17">17</a></span><span class="line">    <span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,18" id="srcline18">18</a></span><span class="line">    <span class="mxinfo " id="T10:U71"><span class="var type1" id="S37T10U92">MonitorInfo</span> = <span class="mxinfo " id="T10:U73">zeros(<span class="mxinfo " id="T1:U74">1</span>,<span class="mxinfo " id="T1:U75">6</span>)</span></span>;    </span></span>
<span class="srcline"><span class="lineno"><a href="1,19" id="srcline19">19</a></span><span class="line">    [<span class="var type1" id="S39T2U100">FusObj</span>,<span class="var type1" id="S40T3U101">Lane_NumInfo</span>,<span class="var type1" id="S41T1U102">DisEngFlg</span>] = <span class="fcn" id="F17N16:B104">InputPreTreatMent</span>(<span class="var type1" id="S20T7U105">End</span>,<span class="var type1" id="S17T5U106">Veh_State</span>,<span class="var type1" id="S21T1U107">EPS_Status</span>,<span class="var type1" id="S22T1U108">ResSwAct</span>,<span class="var type1" id="S23T1U109">DrvBrkEng</span>,<span class="var type1" id="S14T2U110">FusObjPre</span>,<span class="var type1" id="S15T3U111">Lane_NumInfoPre</span>,<span class="var type1" id="S35T1U112">kur</span>,<span class="var type1" id="S26T1U113">TurnLight</span>,<span class="var type1" id="S18T6U114">Navi_Info</span>);</span></span>
<span class="srcline"><span class="lineno"><a href="1,20" id="srcline20">20</a></span><span class="line">    </span></span>
<span class="srcline"><span class="lineno"><a href="1,21" id="srcline21">21</a></span><span class="line">    <span class="comment">% OperAndObjSelector Start</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,22" id="srcline22">22</a></span><span class="line">    <span class="mxinfo " id="T1:U89">[<span class="var type1" id="S43T1U118">TimeLimit</span>,<span class="var type1" id="S44T1U119">EnterZoneEnFlg</span>,<span class="var type1" id="S45T10U120">Info_Me</span>,<span class="var type1" id="S46T10U121">Info_Fd</span>,<span class="var type1" id="S47T10U122">Info_Fo</span>,<span class="var type1" id="S48T10U123">Info_Ld</span>,<span class="var type1" id="S49T10U124">Info_Lo</span>,<span class="keyword">...</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,23" id="srcline23">23</a></span><span class="line">     <span class="var type1" id="S50T1U125">OperationLongDislimit</span>,<span class="var type1" id="S51T11U126">RoadInfo</span>,<span class="var type1" id="S52T1U127">LCOPCnt</span>,<span class="var type1" id="S53T1U128">Curoperation</span>,<span class="var type1" id="S54T1U129">InLaneLCFlg</span>,<span class="var type1" id="S11T1U130">SpeedLimit</span>,<span class="keyword">...</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,24" id="srcline24">24</a></span><span class="line">     <span class="var type1" id="S55T10U131">PreInfo_Me</span>,<span class="var type1" id="S56T1U132">LCEnbSts</span>,<span class="var type1" id="S57T1U133">MonitorSts</span>,<span class="var type1" id="S58T11U134">CurRoadInfo</span>] = <span class="fcn" id="F122N47:B136">OperAndObjSelector</span>(<span class="var type1" id="S31T1U137">PPPEn</span>,<span class="var type1" id="S30T1U138">POperationFinishFlgIn</span>,<span class="var type1" id="S17T5U139">Veh_State</span>,<span class="var type1" id="S39T2U140">FusObj</span>,<span class="var type1" id="S40T3U141">Lane_NumInfo</span>,<span class="var type1" id="S16T4U142">Line_ShapeInfo</span>,<span class="keyword">...</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,25" id="srcline25">25</a></span><span class="line">                                                                      <span class="var type1" id="S18T6U143">Navi_Info</span>,<span class="var type1" id="S20T7U144">End</span>,<span class="var type1" id="S41T1U145">DisEngFlg</span>,<span class="var type1" id="S32T1U146">PLCStartFlg</span>,<span class="var type1" id="S19T1U147">TrigStart</span>,<span class="var type1" id="S27T1U148">TrnShutDwn</span>,<span class="var type1" id="S28T1U149">LCShutDwn</span>,<span class="var type1" id="S29T1U150">UseFakeCIPVEn</span>)</span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,26" id="srcline26">26</a></span><span class="line">    <span class="comment">% OperAndObjSelector End</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,27" id="srcline27">27</a></span><span class="line">    <span class="comment">%ObjMonitor</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,28" id="srcline28">28</a></span><span class="line">    <span class="mxinfo " id="T1:U121"><span class="var type1" id="S60T1U153">CurOp</span> = <span class="var type1" id="S53T1U154">Curoperation</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,29" id="srcline29">29</a></span><span class="line">    <span class="mxinfo " id="T1:U124"><span class="var type1" id="S61T1U157">MonitorEn</span> = <span class="mxinfo " id="T1:U126">0</span></span>;   </span></span>
<span class="srcline"><span class="lineno"><a href="1,30" id="srcline30">30</a></span><span class="line">    <span class="mxinfo " id="T1:U127"><span class="var type1" id="S62T1U161">PreTime</span> = <span class="mxinfo " id="T1:U129">2</span></span>;   <span class="mxinfo " id="T1:U130"><span class="var type1" id="S63T1U165">NexTime</span> = <span class="mxinfo " id="T1:U132">0.01</span></span>;    <span class="mxinfo " id="T1:U133"><span class="var type1" id="S64T1U169">alimitCal</span> = <span class="mxinfo " id="T1:U135">2</span></span>;    <span class="mxinfo " id="T1:U136"><span class="var type1" id="S65T1U173">FOffset</span> = <span class="mxinfo " id="T1:U138">6</span></span>;    <span class="mxinfo " id="T1:U139"><span class="var type1" id="S66T1U177">LOffset</span> = <span class="mxinfo " id="T1:U141">1.2</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,31" id="srcline31">31</a></span><span class="line">    <span class="mxinfo " id="T1:U142"><span class="var type1" id="S67T1U181">FOffsetLim</span> = <span class="mxinfo " id="T1:U144">2</span></span>;    <span class="mxinfo " id="T1:U145"><span class="var type1" id="S68T1U185">LOffsetLim</span> = <span class="mxinfo " id="T1:U147">1.2</span></span>;    <span class="mxinfo " id="T1:U148"><span class="var type1" id="S69T1U189">TimeSafeTol</span> = <span class="mxinfo " id="T1:U150">5.5</span></span>;    <span class="mxinfo " id="T1:U151"><span class="var type1" id="S70T1U193">aTrig</span> = <span class="mxinfo " id="T1:U153">0.1</span></span>;    <span class="mxinfo " id="T1:U154"><span class="var type1" id="S71T1U197">SafeDisTol</span> = <span class="mxinfo " id="T1:U156">8</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,32" id="srcline32">32</a></span><span class="line">    <span class="mxinfo " id="T1:U157"><span class="var type1" id="S72T1U201">OutOfRoadEn</span> = <span class="mxinfo " id="T1:U159">0</span></span>;    <span class="mxinfo " id="T1:U160"><span class="var type1" id="S73T1U205">Tim2EnterTol</span> = <span class="mxinfo " id="T1:U162">2.5</span></span>;    <span class="mxinfo " id="T1:U163"><span class="var type1" id="S74T1U209">APar</span> = <span class="mxinfo " id="T1:U165">0.2</span></span>;    <span class="mxinfo " id="T1:U166"><span class="var type1" id="S75T1U213">ByPassVy</span> = <span class="mxinfo " id="T1:U168">1</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,33" id="srcline33">33</a></span><span class="line">    <span class="comment">% MonitorObjDebugVersion Start</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,34" id="srcline34">34</a></span><span class="line">    [<span class="var type1" id="S12T1U218">StopFlg</span>,<span class="var type1" id="S76T1U219">StopArc</span>,<span class="var type1" id="S77T1U220">ArcNex</span>,<span class="var type1" id="S78T1U221">ArcPre</span>,<span class="var type1" id="S79T1U222">VPre</span>,<span class="var type1" id="S80T1U223">VNex</span>,<span class="var type1" id="S13T1U224">aCal</span>,<span class="var type1" id="S81T12U225">CIPOInfo</span>,<span class="keyword">...</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,35" id="srcline35">35</a></span><span class="line">     <span class="var type1" id="S82T1U226">StopReason</span>] = <span class="fcn" id="F133N23:B228">MonitorObjDebugVersion</span>(<span class="var type1" id="S31T1U229">PPPEn</span>,<span class="var type1" id="S58T11U230">CurRoadInfo</span>,<span class="var type1" id="S60T1U231">CurOp</span>,<span class="var type1" id="S61T1U232">MonitorEn</span>,<span class="var type1" id="S39T2U233">FusObj</span>,<span class="var type1" id="S45T10U234">Info_Me</span>,<span class="keyword">...</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,36" id="srcline36">36</a></span><span class="line">                                          <span class="var type1" id="S62T1U235">PreTime</span>, <span class="var type1" id="S63T1U236">NexTime</span>,<span class="var type1" id="S64T1U237">alimitCal</span>,<span class="var type1" id="S65T1U238">FOffset</span>,<span class="var type1" id="S66T1U239">LOffset</span>,<span class="keyword">...</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,37" id="srcline37">37</a></span><span class="line">                                          <span class="var type1" id="S67T1U240">FOffsetLim</span>,<span class="var type1" id="S68T1U241">LOffsetLim</span>,<span class="var type1" id="S69T1U242">TimeSafeTol</span>,<span class="var type1" id="S70T1U243">aTrig</span>,<span class="var type1" id="S71T1U244">SafeDisTol</span>,<span class="keyword">...</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,38" id="srcline38">38</a></span><span class="line">                                          <span class="var type1" id="S72T1U245">OutOfRoadEn</span>,<span class="var type1" id="S35T1U246">kur</span>,<span class="var type1" id="S16T4U247">Line_ShapeInfo</span>,<span class="var type1" id="S40T3U248">Lane_NumInfo</span>,<span class="var type1" id="S73T1U249">Tim2EnterTol</span>,<span class="var type1" id="S74T1U250">APar</span>,<span class="var type1" id="S75T1U251">ByPassVy</span>);</span></span>
<span class="srcline"><span class="lineno"><a href="1,39" id="srcline39">39</a></span><span class="line">     <span class="mxinfo " id="T10:U201"><span class="var type1" id="S37T10U254">MonitorInfo</span> = <span class="mxinfo " id="T10:U203">[<span class="var type1" id="S12T1U257">StopFlg</span>,<span class="var type1" id="S76T1U258">StopArc</span>,<span class="var type1" id="S77T1U259">ArcNex</span>,<span class="var type1" id="S78T1U260">ArcPre</span>,<span class="var type1" id="S79T1U261">VPre</span>,<span class="var type1" id="S80T1U262">VNex</span>]</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,40" id="srcline40">40</a></span><span class="line">    <span class="comment">% MonitorObjDebugVersion End</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,41" id="srcline41">41</a></span><span class="line">    <span class="comment">% PathGenerator Start</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,42" id="srcline42">42</a></span><span class="line">    <span class="mxinfo " id="T1:U210">[<span class="var type1" id="S84T1U266">PathFinishFlg</span>,<span class="var type1" id="S7T1U267">PathPlanControl</span>,<span class="var type1" id="S6T1U268">TargetLongitudinalSpeed</span>,<span class="var type1" id="S8T1U269">TargetOrientationAngle</span>,<span class="keyword">...</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,43" id="srcline43">43</a></span><span class="line">     <span class="var type1" id="S9T1U270">PreviewTime</span>,<span class="var type1" id="S10T1U271">PathPlanAvaliable</span>,<span class="var type1" id="S2T1U272">PreviewDistance</span>,<span class="var type1" id="S3T1U273">LateralDistance</span>,<span class="var type1" id="S4T1U274">LongitudinalError</span>,<span class="keyword">...</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,44" id="srcline44">44</a></span><span class="line">     <span class="var type1" id="S5T1U275">LateralError</span>,<span class="var type1" id="S85T1U276">LCStartFlg</span>]=<span class="fcn" id="F779N91:B278">PathGenerator</span>(<span class="var type1" id="S43T1U279">TimeLimit</span>,<span class="var type1" id="S44T1U280">EnterZoneEnFlg</span>,<span class="var type1" id="S45T10U281">Info_Me</span>,<span class="var type1" id="S46T10U282">Info_Fd</span>,<span class="var type1" id="S47T10U283">Info_Fo</span>,<span class="var type1" id="S48T10U284">Info_Ld</span>,<span class="var type1" id="S49T10U285">Info_Lo</span>,<span class="keyword">...</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,45" id="srcline45">45</a></span><span class="line">                                            <span class="var type1" id="S50T1U286">OperationLongDislimit</span>,<span class="var type1" id="S51T11U287">RoadInfo</span>,<span class="var type1" id="S52T1U288">LCOPCnt</span>,<span class="var type1" id="S53T1U289">Curoperation</span>,<span class="var type1" id="S54T1U290">InLaneLCFlg</span>,<span class="var type1" id="S11T1U291">SpeedLimit</span>,<span class="keyword">...</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,46" id="srcline46">46</a></span><span class="line">                                            <span class="var type1" id="S55T10U292">PreInfo_Me</span>,<span class="var type1" id="S56T1U293">LCEnbSts</span>,<span class="var type1" id="S57T1U294">MonitorSts</span>,<span class="var type1" id="S37T10U295">MonitorInfo</span>)</span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,47" id="srcline47">47</a></span><span class="line">    <span class="comment">% PathGenerator End</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,48" id="srcline48">48</a></span><span class="line">    <span class="mxinfo " id="T1:U239"><span class="var type1" id="S30T1U298">POperationFinishFlgIn</span> = <span class="var type1" id="S84T1U299">PathFinishFlg</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,49" id="srcline49">49</a></span><span class="line">    <span class="mxinfo " id="T1:U242"><span class="var type1" id="S31T1U302">PPPEn</span> = <span class="var type1" id="S7T1U303">PathPlanControl</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,50" id="srcline50">50</a></span><span class="line">    <span class="mxinfo " id="T1:U245"><span class="var type1" id="S32T1U306">PLCStartFlg</span> = <span class="var type1" id="S85T1U307">LCStartFlg</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,51" id="srcline51">51</a></span><span class="line"><span class="keyword">end</span></span></span>
</pre>
